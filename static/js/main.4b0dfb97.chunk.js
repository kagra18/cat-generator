(this["webpackJsonpcat-generator"]=this["webpackJsonpcat-generator"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(2),i=a.n(l),c=(a(14),a(6)),s=a(3),o=a(4),u=a(7),d=a(5),m=a(8);var h=new Promise((function(e,t){fetch("https://catfact.ninja/breeds?limit=100").then((function(e){return e.json()})).then((function(t){console.log(t.data),e(t)})).catch((function(e){console.log("Error: ",e)}))})),f=function(){return new Promise((function(e,t){return fetch("https://catfact.ninja/fact?max_length=140").then((function(e){return e.json()})).then((function(t){console.log(t),e(t)})).catch((function(e){console.log("Error: ",e)}))}))},b=function(){return new Promise((function(e,t){return fetch("https://api.thecatapi.com/v1/images/search?mime_types=png,jpg",{method:"GET",headers:{"Cache-Control":"no-store","x-api-key":"7e01e831-ca0a-4115-89e0-3d7870d05b08"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e(t)})).catch((function(e){console.log("Error: ",e)}))}))},p=new Promise((function(e,t){fetch("https://api.thecatapi.com/v1/breeds",{method:"GET",headers:{"x-api-key":"7e01e831-ca0a-4115-89e0-3d7870d05b08"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e(t)})).catch((function(e){console.log("Error: ",e)}))})),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).changeHandler=function(e){var t=e.target;a.setState({selectedBreed:t.value});var n=t.value.toLowerCase().replace(" ","").trim();a.setBreedId(n)},a.setBreedId=function(e){a.setState({breedId:""}),a.state.breedsWithDetails.filter((function(t){return t.name.toLowerCase().replace(" ","").trim()===e?a.setState({breedId:t.id}):null}))},a.clickHandler=function(e){var t=e.target;a.setState({currentClick:t.value}),t.value===a.buttonTitles()[1]&&(a.clearCurrentStates(),a.setState({currentView:a.viewTitles()[0]}))},a.submitHandler=function(e){if(e.preventDefault(),a.state.currentClick===a.buttonTitles()[0]){if(""===a.state.selectedBreed)return void alert("You must pick a breed!");a.getBreedDetails()}else a.state.currentClick===a.buttonTitles()[2]&&(a.setState({randomFact:"",randomImage:""}),a.generateFactAndImage())},a.breedDetailsView=function(){var e;return e="Not available"===a.state.breedInfo.wikipedia_url?r.a.createElement("span",null,a.state.breedInfo.wikipedia_url):r.a.createElement("a",{href:a.state.breedInfo.wikipedia_url,target:"_blank",rel:"noopener noreferrer"},a.state.breedInfo.wikipedia_url),r.a.createElement("ul",{className:"details-style-1"},r.a.createElement("img",{src:a.state.breedInfo.url,className:"image-margin-bottom",alt:a.state.breedInfo.breed}),r.a.createElement("h1",{className:"main-header-left"}," ",a.state.breedInfo.breed),r.a.createElement("li",null,r.a.createElement("label",null,"Country of origin: "),r.a.createElement("span",null,a.state.breedInfo.country)),r.a.createElement("li",null,r.a.createElement("label",null,"Breed origin: "),r.a.createElement("span",null,a.state.breedInfo.origin)),r.a.createElement("li",null,r.a.createElement("label",null,"Color pattern: "),r.a.createElement("span",null,a.state.breedInfo.pattern)),r.a.createElement("li",null,r.a.createElement("label",null,"Type of fur: "),r.a.createElement("span",null,a.state.breedInfo.coat)),r.a.createElement("li",null,r.a.createElement("label",null,"Temper: "),r.a.createElement("span",null,a.state.breedInfo.temperament)),r.a.createElement("li",null,r.a.createElement("label",null,"Description: "),r.a.createElement("span",null,a.state.breedInfo.description)),r.a.createElement("li",null,r.a.createElement("label",null,a.state.breedInfo.breed," on wiki: "),e),r.a.createElement("li",null,r.a.createElement("input",{className:"grey-color space-right",type:"submit",value:a.buttonTitles()[1],onClick:a.clickHandler})))},a.allBreedsView=function(){var e=0;return r.a.createElement("form",{onSubmit:a.submitHandler},r.a.createElement("h1",{className:"main-header-center"},"The cat generator: Breed info and random pics!"),r.a.createElement("ul",{className:"form-style-1"},r.a.createElement("img",{src:a.state.randomImage,alt:"Cat"}),r.a.createElement("li",null,r.a.createElement("label",null,"Random cat fact "),r.a.createElement("span",null,a.state.randomFact)),r.a.createElement("li",null,r.a.createElement("input",{className:"space-right",type:"submit",value:a.buttonTitles()[2],onClick:a.clickHandler})),r.a.createElement("hr",null),r.a.createElement("li",null,r.a.createElement("label",null,"Get facts about a certain breed:"),r.a.createElement("select",{value:a.state.selectedBreed,className:"field-select",onChange:a.changeHandler},r.a.createElement("option",{key:e,value:a.state.breedName,disabled:!0},"Select a breed..."),a.state.allBreeds.map((function(t){return r.a.createElement("option",{key:e++,value:t.breed}," ",t.breed," ")})))),r.a.createElement("li",null,r.a.createElement("input",{className:"space-right",type:"submit",value:a.buttonTitles()[0],onClick:a.clickHandler}))))},a.loadView=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"main-header-center"},"Loading cat generator..."))},a.state={selectedBreed:"",breedId:"",breedName:"",randomFact:"",randomImage:"",currentClick:"",currentView:"loading",allBreeds:["No breeds"],breedsWithDetails:[],currentExtraDetails:{},breedInfo:{}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"viewTitles",value:function(){return["allBreeds","breedDetails","loading"]}},{key:"buttonTitles",value:function(){return["Get breed info","<<< Back","Get random fact/picture"]}},{key:"setBreedStates",value:function(){var e=this;this.setState({breedInfo:{}});var t={};this.state.allBreeds.filter((function(a){return e.state.selectedBreed.toLowerCase().replace(" ","").trim()===a.breed.toLowerCase().replace(" ","").trim()?Object.assign(t,a):null}));for(var a=0,n=Object.entries(t);a<n.length;a++){var r=n[a],l=Object(c.a)(r,2),i=l[0],s=l[1];t[i]=""===s?"Not available":s}0===Object.keys(this.state.currentExtraDetails).length?(t.description="Not available",t.temperament="Not available",t.wikipedia_url="Not available",t.url="https://upload.wikimedia.org/wikipedia/commons/1/15/No_image_available_600_x_450.svg"):(t.description=this.state.currentExtraDetails.breeds[0].description,t.temperament=this.state.currentExtraDetails.breeds[0].temperament,t.wikipedia_url=this.state.currentExtraDetails.breeds[0].wikipedia_url,t.url=this.state.currentExtraDetails.url),this.setState({breedInfo:t}),this.setState({currentView:this.viewTitles()[1]})}},{key:"getBreedDetails",value:function(){var e,t=this;(this.setState({breedInfo:{},currentExtraDetails:{}}),""===this.state.breedId)?this.setBreedStates():(e=this.state.breedId,new Promise((function(t,a){fetch("https://api.thecatapi.com/v1/images/search?breed_ids="+e,{method:"GET",headers:{"x-api-key":"7e01e831-ca0a-4115-89e0-3d7870d05b08"}}).then((function(e){return e.json()})).then((function(e){console.log(e),t(e)})).catch((function(e){console.log("Error: ",e)}))}))).then((function(e){t.setState({currentExtraDetails:e[0]}),t.setBreedStates()})).catch((function(e){console.log("Error: ",e)}))}},{key:"clearCurrentStates",value:function(){this.setState({selectedBreed:"",breedId:"",breedName:"",currentClick:"",currentExtraDetails:{},breedInfo:{}})}},{key:"componentDidMount",value:function(){var e=this;Promise.all([h,p,f(),b()]).then((function(t){return t.map((function(t){return Array.isArray(t)?t.length>1?e.setState({breedsWithDetails:t}):e.setState({randomImage:t[0].url}):Object.keys(t).length>3?e.setState({allBreeds:t.data}):e.setState({randomFact:t.fact}),e.setState({currentView:e.viewTitles()[0]})}))})).catch((function(e){console.log("Error: ",e)}))}},{key:"generateFactAndImage",value:function(){var e=this;Promise.all([f(),b()]).then((function(t){t.map((function(t){return Array.isArray(t)?e.setState({randomImage:t[0].url}):e.setState({randomFact:t.fact}),null}))})).catch((function(e){console.log("Error: ",e)}))}},{key:"render",value:function(){var e="";return this.state.currentView===this.viewTitles()[0]?e=this.allBreedsView():this.state.currentView===this.viewTitles()[1]?e=this.breedDetailsView():this.state.currentView===this.viewTitles()[2]&&(e=this.loadView()),e}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.4b0dfb97.chunk.js.map